# React Modal Component

A generic-purpose modal component that can be used when dealing with a blocking dialog interaction.
It is based on Snowflake's markup structure, it renders an overlay, also has props for adding header/footer and allows custom class names for styling.

## Dependencies

This component just needs the [Snowflake](https://github.tlcinternal.com/pages/UITools/ui-snowflake/docs/versions/1.6.x/build/index.html)
styles or at least these class names defined to add basic styling:
- `modal-backdrop`: for styling the overlay.
- `modal-dialog`: to style the dialog container itself.
- `modal-content`: to style the content container.
- `modal-title little`: to style the title when provided.
- `modal-header`: to style the whole header markup container if provided a header or a title.
- `modal-body`: to style the body, which is the wrapped Modal markup.
- `modal-footer`: to style the footer container if provided.

Those are based on [Snowflake's modal guidelines](https://github.tlcinternal.com/pages/UITools/ui-snowflake/docs/versions/1.6.x/build/index.html#popMod-modals).

## Overview

This component can be used for general purpose modal and can be styled in each layer of its markup via class-name props.

The container `div` element receives pass-through properties from the `Modal` react component itself
to extend it.

Some of those possibilities are:
- `id` adding an id to handle and reference the component container via that id.
- `tabIndex` if you have trouble with it you can set it here too.

### Props

Prop               | Type         | Required | Default value
------------------ | ------------ | -------- | --------------------------------------
`title`            | `React.node` | `false`  | `null`
`header`           | `React.node` | `false`  | `null`
`footer`           | `React.node` | `false`  | `null`
`children`         | `React.node` | `true`   |
`className`        | `string`     | `false`  | `null`
`overlayClassName` | `string`     | `false`  | `null`
`dialogClassName`  | `string`     | `false`  | `null`
`contentClassName` | `string`     | `false`  | `null`
`titleClassName`   | `string`     | `false`  | `null`
`headerClassName`  | `string`     | `false`  | `null`
`bodyClassName`    | `string`     | `false`  | `null`
`footerClassName`  | `string`     | `false`  | `null`
`onDismiss`        | `function`   | `false`  | `null`
`tabIndex`         | `string`     | `false`  | `-1`
`role`             | `string`     | `false`  | `dialog`


### Props description

- `title` is a way to provide the modal with a title which would be automatically wrapped with an `<h1>` tag.
This is the standard way to use it and have all dialogs render the same styled title.
- `header` is a more generic way to provide custom markup to the dialog content.
When both `header` and `title` are provided, `header` is used and `title` is ignored.
And when both are not provided, no header section is rendered on the dialog.
- `footer` is the way to provide custom footer markup content to the dialog.
If `footer` is not provided, the footer section will not be rendered.
- `children` is the markup content of the modal (which is required).
- `className` is the way to provide classname(s) to the component container.
- `overlayClassName` is the way to provide custom classes to the overlay.
- `dialogClassName` is the way to provide custom classes to the dialog (content container excluding the overlay).
- `contentClassName` is the way to provide custom classes to the content container.
- `titleClassName` is the way to provide custom classes to the title `<h1>` tag.
- `headerClassName` is the way to provide custom classes to the header container.
- `bodyClassName` is the way to provide custom classes to the content itself.
- `footerClassName` is the way to provide custom classes to the footer container.
- `onDismiss` is a callback to be executed when the user clicks the overlay.
This does not dismiss the modal, instead it calls a provided function to be executed on overlay click.
- `tabIndex` is a way to specify a tab stop, -1 has the special effect to allow for programatically focus
a DOM element.
- `role` is an accessibility attribute which we use to tell the browser this is a modal dialog.

### State
- `mounted` it is intended to track the first render of the modal.

## Usage

### Import / Require Component

In your `.js` file:
``` js
import { Modal } from 'components';
// or better
import Modal from 'components/Modal/Modal';
```

_Note_: Remember to import Snowflake for the basic CSS as well.

Some usage examples:

```js
// some-react-client-component.js
// simple modal
<Modal>
  <p>Simple modal content</p>
  <p>Without header and footer and basic Snowflake styling</p>
</Modal>
```

A modal with a title.
```js
<Modal
  title="Congratulations!"
>
  <p>Your loan has been approved.</p>
</Modal>
```
A modal with header and custom component styling.
```js
<Modal
  header={ <h2 class="text-investor-1">Did you know?</h2> }
  className="my-custom-modal"
>
  <p>Once you finish with the current loan you can apply for another one.</p>
</Modal>
```
A modal with title, footer, custom overlay styling (that changes overlay background color to a white-gray variation)
custom footer styling (that changes the text color to gray)
and a dismiss callback.
```js
<Modal
  title="Oops! something went wrong"
  footer={ <p>Also please check your Internet connection.</p> }
  overlayClassName="bg-body"
  footerClassName="text-corporate-link"
  onDismiss={ this.renderContentAfterError } // intended to render something or setting a flag after modal closes
>
  <p>Please try again later.</p>
  <button class="btn btn-borrower">Ok</button>
</Modal>
```
A modal with onDismiss custom handlers.
```js
// some-react-component.js
handleModalDismiss = () => {
  this.setState({
    showModal: false
  });
};

handleModalOpen  = () => {
  this.setState({
    showModal: true
  });
};
// ...
{showModal && (
  <Modal
    onDismiss={ this.handleModalDismiss }
    footer={(
      <button onClick={ this.handleModalDismiss }>Close</button>
    )}
  >
    Bacon ipsum dolor amet frankfurter corned beef swine turducken bacon
  </Modal>
)}
<button onClick={ this.handleModalOpen }>Open</button>
```
